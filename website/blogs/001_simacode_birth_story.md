# 思码（SimaCode）的诞生记：打造AI工作流领域的FastAPI

大家好！我是思码（SimaCode）的作者River。今天想跟大家聊聊这个项目是怎么"意外"诞生的，以及它为什么会比现有的工作流工具更有意思。

## 起因：只是想试试Claude Code的水平

事情要从几个月前说起。当时Claude Code刚出来，作为一个对AI工具特别感兴趣的程序员，我当然要第一时间试试它的能力边界在哪里。

你知道，这几年，所有人最喜欢探索的就是"折腾AI"——给AI一个复杂的任务，看它能不能搞定，作为程序员更是如此。当时我正好在找一个工作流框架，希望能自动将邮件里的各种票据（发票、收据、合同等）自动做OCR识别，然后转存到数据库中。市面上的工具要么太复杂（比如M8N），要么不够智能。于是我就想：能不能让AI帮我实现一个真正智能的工作流框架？

我在折腾了一圈（dify/m8n/coze...）之后，以及在尝试用Claude Code开发了几个小工具后，就下定决心要自己重复造一个轮子，为什么呢？

## 我想要的不一样：从Chat到智能执行的完整链路

传统的工作流工具需要你拖拽组件、设置连接线、配置参数。这很直观，但问题是对于程序员而言——**低代码比代码要复杂！**

我希望有一个像FastAPI一样对开发者友好的AI工作流框架，让我能够这样：

```bash
simacode chat --react "帮我检查Specialist@邮箱，自动识别有票据的附件，并将识别结果以及转存链接发送给river@quseit.com"
```

然后AI就自动帮我：
1. **理解意图** (Chat)：分析我到底想要什么
2. **制定计划** (Planning)：把复杂任务拆解成可执行的步骤
3. **智能执行** (ReAct)：思考后自动从工具箱中组合工具来执行
4. **工具调用** (Tool Execution)：调用各种工具完成具体操作

这就是SimaCode的核心设计理念：**Chat -> Planning -> ReAct -> Tool Execution**

## 什么是ReAct？为什么它这么重要？

ReAct是"Reasoning and Acting"的缩写，翻译过来就是"推理与行动"。

简单说，传统的工作流是"死板"的——按照预设的流程一步步执行。但ReAct不一样，它像一个真正的智能助手：

- **会思考**：每一步都会分析当前情况
- **会调整**：发现问题能够分析并寻找解决方案（未来将支持动态重新规划）
- **会学习**：从执行结果中获得反馈，优化后续行动

比如你让它"帮我检查Specialist@邮箱，自动识别有票据的附件，并将识别结果以及转存链接发送给river@quseit.com"，传统工具按照固定流程执行，遇到灵活情况（比如票据格式变化）就会卡住。而SimaCode的ReAct会：

1. 分析任务的依赖
2. 分析工具组合
3. 尝试不同的解决方案
4. 执行并反馈结果


## 技术实现：不只是概念，更是工程实践

多提一句，得益于Claude Code带来的开发效率革命，现在的程序开发中，理念比代码更重要，只要想得到的功能，实现起来都不成问题。在Claude Code的帮助下，SimaCode有以下让我觉得很贴心的设计：

### 双模式架构
- **CLI模式**：命令行直接使用，适合开发者
- **API模式**：RESTful + WebSocket，适合集成到其他系统

### MCP协议支持
我们完整支持Model Context Protocol，这意味着：
- 可以接入各种AI模型和工具
- 支持热插拔的工具生态
- 与主流AI开发工具无缝集成

### 真正的异步和并发
使用Python的asyncio，支持：
- 并行执行多个任务
- 实时流式输出
- 高性能的工具调用

## SimaCode的独特设计哲学

### 1. Show Me The Code，拒绝黑盒
很多低代码平台看似对入门者友好，但实际上却让系统变得**更难掌控**。你永远不知道背后到底发生了什么，出了问题也不知道怎么调试。

SimaCode坚持"Show Me The Code"原则：
- **完全透明**：每一步操作都有清晰的代码和日志
- **可调试**：出错时能看到具体的执行过程和错误原因
- **可定制**：不喜欢某个实现？直接修改源码
- **保持简单**：复杂的是AI的思考过程，但工具本身保持简洁

### 2. 开发者友好的极致优化
就像FastAPI专注于Web开发的最佳实践一样，不在"支持几十种用不到的模型"上浪费精力，而是专注于：
- **工具执行效率**：优化每个工具的调用速度和资源使用
- **调试体验**：提供详细的执行日志和错误追踪
- **架构设计**：清晰的模块化设计，易于理解和扩展
- **性能监控**：实时监控工具执行状态和系统资源

### 3. 易于集成，多种使用方式
SimaCode可以作为PYPI包直接安装和Import，也支持独立服务部署：

**3.1 作为独立工具使用：**
```bash
git clone https://github.com/QUSEIT/simacode.git
cd simacode
poetry install
simacode chat --interactive --react # 执行任务的对话模式
simacode chat --interactive # 对话模式
```

**3.2 API服务模式：**
```bash
simacode serve --host 127.0.0.1 --port 8000
# 然后通过HTTP API或WebSocket调用，接口兼容OpenAI接口
```

**3.3 Lib集成对话模式：**
```python
import simacode
simacode.chat("作为我的导师给我写一封实习推荐信")
```

**3.4 Lib集成后的任务对话模式：**
```python
import simacode
simacode.react("给river@quseit.com发送一封上面的推荐信")
```

### 4. Mobile First：随时随地的工作流
SimaCode支持移动端的QPython使用，这意味着：
- **个人定制**：每个人都可以在手机上定制自己的工作流
- **随时执行**：通勤路上也能运行复杂的自动化任务
- **轻量级**：不需要复杂的服务器部署

### 5. 自然语言交互
直接用自然语言描述需求，AI理解并执行，无需画流程图或配置复杂的节点参数。

### 6. 智能适应能力
AI能够分析问题并寻找解决方案，而不是按照固定流程执行到出错为止。

### 7. 开放的工具生态
通过MCP协议支持无限扩展，专注于做必要的事而不是什么都想支持。

## 为什么选择SimaCode？与主流方案的对比

在工作流自动化领域，已经有不少成熟的解决方案，比如M8N、Coze、Zapier等。那为什么还要选择SimaCode？

### 对比主流工作流平台

| 特性 | SimaCode | M8N | Coze | Zapier |
|------|----------|-----|------|--------|
| **部署复杂度** | 极简：`pip install simacode` | 复杂：需要Docker/数据库 | 平台锁定 | SaaS平台 |
| **学习成本** | 自然语言交互 | 需要学习节点配置 | 需要理解平台逻辑 | 预设模板限制 |
| **开发者友好** | 代码优先，完全透明 | 可视化为主 | 黑盒操作 | 黑盒操作 |
| **集成方式** | 多种：CLI/API/Lib | 主要通过UI | 平台绑定 | Webhook为主 |
| **AI智能程度** | ReAct推理引擎 | 基础自动化 | AI辅助配置 | 规则驱动 |
| **移动端支持** | 原生支持QPython | 无 | 有限 | 有限 |
| **本地部署** | 完全支持 | 支持但复杂 | 不支持 | 不支持 |

### SimaCode的核心优势

**1. 真正的轻量级**
- 无需复杂的基础设施：不需要Docker、数据库、Redis等
- 零配置启动：安装即用，无需复杂的环境搭建
- 资源占用极小：单进程即可运行完整的工作流引擎

**2. 部署简单到极致**
```bash
# 传统方案（如M8N）
docker-compose up -d  # 需要配置数据库、环境变量等
# 访问Web界面，手动配置工作流...

# SimaCode方案
pip install simacode
simacode chat "帮我自动化处理邮件中的发票"  # 完成！
```

**3. 集成方便，适应性强**
- **即插即用**：可以作为Python库直接导入现有项目
- **多种调用方式**：CLI、API、直接导入，满足不同场景需求
- **无厂商锁定**：开源代码，可以完全掌控和定制

**4. 真正的AI原生设计**
传统工作流工具是"先有工具，后加AI"，而SimaCode是"AI优先"设计：
- AI不是辅助功能，而是核心执行引擎
- 具备真正的推理和适应能力，而不只是简单的规则匹配
- 可以处理复杂的、需要灵活判断的任务场景

## 开源，因为相信社区的力量

SimaCode从一开始就是开源的，我们相信：
- 好的工具应该让所有人受益
- 社区的智慧能让项目更强大
- 透明的代码让大家用得放心

项目地址：https://github.com/QUSEIT/simacode

## 来试试吧！让AI成为你的工作流伙伴

如果你也厌倦了手动配置复杂的工作流，如果你也想要一个真正的AI工作流，那就来试试SimaCode吧！

### 多种使用方式，专注满足开发层面的不同需求


无论你是想在桌面端深度使用，还是在移动端快速执行任务，或者集成到你的项目中，SimaCode都能满足你的需求。
当然作为一个新发布的工具，SimaCode仍然很年轻，有诸多不足之处，欢迎你的反馈，这会给我更多改进的动力。

最后，如果你觉得SimaCode有用，记得给我一个Star⭐️！你的支持是我们持续改进的动力。

---

*P.S. 有问题或建议？欢迎在GitHub上提Issue，或者关注我们的公众号获取最新动态！*
